{
  "server": {
    "host": "0.0.0.0",
    "port": 8080
  },
  "whatsapp": {
    "db_path": "/data/whatsmeow.db",
    "qr_timeout": "2m",
    "reconnect_delay": "5s",
    "max_reconnects": 10,
    "message_rate_limit": 30
  },
  "websocket": {
    "url": "ws://localhost:3000/ws/whatsapp",
    "api_key": "",
    "ping_interval": "30s",
    "pong_timeout": "10s",
    "reconnect_delay": "5s",
    "max_reconnects": 0,
    "queue_size": 1000
  },
  "log": {
    "level": "info",
    "format": "json"
  },
  "ratelimit": {
    "enabled": true,
    "requests_per_second": 10.0,
    "burst_size": 20,
    "by_ip": true,
    "by_api_key": false,
    "cleanup_interval": "5m",
    "max_age": "1h"
  },
  "cors": {
    "allowed_origins": ["*"],
    "allowed_methods": ["GET", "POST", "PUT", "DELETE", "OPTIONS"],
    "allowed_headers": ["Origin", "Content-Type", "Accept", "Authorization", "X-Request-ID", "X-API-Key"],
    "expose_headers": ["X-Request-ID", "X-RateLimit-Limit", "X-RateLimit-Remaining", "X-RateLimit-Reset"],
    "allow_credentials": false,
    "max_age": 86400
  },
  "apikey": {
    "enabled": false,
    "header": "X-API-Key",
    "keys": [],
    "keys_map": [
      {
        "key": "your-read-key-here",
        "role": "read"
      },
      {
        "key": "your-write-key-here",
        "role": "write"
      },
      {
        "key": "your-admin-key-here",
        "role": "admin"
      }
    ]
  },
  "metrics": {
    "enabled": true,
    "path": "/metrics",
    "namespace": "whatsapp"
  },
  "circuitbreaker": {
    "enabled": true,
    "max_requests": 3,
    "interval": "60s",
    "timeout": "30s",
    "failure_threshold": 5,
    "success_threshold": 2
  },
  "media": {
    "base_path": "/data/media",
    "base_url": "http://localhost:8080/media",
    "max_file_size": 16777216
  },
  "webhook": {
    "enabled": false,
    "url": "",
    "secret": "",
    "events": []
  },
  "database": {
    "driver": "sqlite",
    "dsn": "/data/whatsmeow.db",
    "max_idle_conns": 10,
    "max_open_conns": 100,
    "conn_max_lifetime": "1h",
    "log_level": "warn"
  },
  "events": {
    "enabled": false,
    "retention_days": 30,
    "cleanup_time": "02:00",
    "cleanup_interval": "1h"
  }
}
